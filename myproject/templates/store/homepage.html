{% extends 'store/base.html' %}

{% load static %}

{% block title %}Home - Glow & Glam{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/homepage.css' %}">
<!--
 <style> 
    
</style>
-->
{% endblock %}

{% block content %}
<!-- Hero Banner Carousel -->
<section class="hero">
  <h1>Reveal Your Radiance with <span id="tagline-text">Natural Glow</span></h1>
  <p class="lead mt-3">Skincare made with love and nature.</p>
  <a href="#" class="btn btn-outline-dark btn-lg mt-4">Explore Products</a>
</section>

<!-- Category Section -->
<div class="text-center my-5">
    <h2 class="display-6 fw-bold text-pink">Shop by Category</h2>
    <p class="lead text-muted">Find your perfect beauty essentials</p>
</div>

<div class="container">
    <div class="row g-4 justify-content-center">
        {% for category in categories %}
        <div class="col-6 col-sm-4 col-md-3">
            <div class="card border-0 shadow-sm text-center h-70 w-60">
                <a href="{% url 'store:category_products' category.slug %}" class="text-decoration-none">
                    <img src="{% static 'images/categories/' %}{{ category.slug|lower }}.jpg"
                         alt="{{ category.name }}"
                         class="img-fluid p-3 rounded" style="height: 180px; width:60%; object-fit: cover;">
                    <div class="card-body">
                        <h6 class="text-dark fw-semibold">{{ category.name }}</h6>
                    </div>
                </a>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

<!-- Featured Products Section -->
<div class="container my-5">
    <div class="text-center mb-4">
        <h2 class="display-6 fw-bold text-pink">✨ Featured Products ✨</h2>
        <p class="text-muted">Our top-rated beauty picks</p>
    </div>

    <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-4">
        {% for product in products %}
        <div class="col">
            <a href="{% url 'store:product_detail' product.id %}" class="text-decoration-none text-dark">
                <div class="card h-100 shadow-sm">
                    <img src="{% if product.image %}{{ product.image.url }}{% else %}{% static 'store/images/default.png' %}{% endif %}"
                         class="card-img-top"
                         alt="{{ product.name }}"
                         style="height: 250px; object-fit: cover;">
                    
                    <div class="card-body d-flex flex-column">
                        <h6 class="fw-bold mb-2">{{ product.name }}</h6>
                        <div class="mb-2">
                            {% if product.discount_price < product.original_price %}
                                <span class="text-muted text-decoration-line-through small">Rs. {{ product.original_price }}</span>
                                <span class="fw-semibold text-danger ms-1">Rs. {{ product.discount_price }}</span>
                                <span class="badge bg-success ms-1 small">-{{ product.discount_percent }}%</span>
                            {% else %}
                                <span class="fw-semibold">Rs. {{ product.original_price }}</span>
                            {% endif %}
                        </div>
                        <div class="mt-auto text-muted small">
                            ★ {{ product.average_rating|default:"0" }}/5 ({{ product.total_reviews }} reviews)
                        </div>
                    </div>
                </div>
            </a>
        </div>
        {% empty %}
        <div class="col-12 text-center py-5">
            <h4 class="text-muted">No products available at the moment</h4>
            <p>Check back soon for our latest collection!</p>
        </div>
        {% endfor %}
    </div>
</div>
<script>
    const taglines = [
    "Natural Glow",
    "Skincare That Loves You",
    "Pure & Powerful",
    "Glow From Within"
  ];
  let i = 0;
  const tagline = document.getElementById("tagline-text");

  setInterval(() => {
    i = (i + 1) % taglines.length;
    tagline.textContent = taglines[i];
  }, 2500);
</script>

{% endblock %}
